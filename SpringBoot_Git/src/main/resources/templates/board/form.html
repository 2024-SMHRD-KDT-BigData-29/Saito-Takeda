<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>게시글 작성</title>
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1>게시글 작성</h1>
        <p>작성자: <span th:text="${user.userNickname} ?: '미설정'"></span></p>
        <form th:action="@{/boards}" method="post" enctype="multipart/form-data" th:object="${boardDTO}">
            <input type="hidden" name="bwriter" th:field="*{bwriter}">
            <table>
                <tr>
                    <td>제목</td>
                    <td><input type="text" name="btitle" th:field="*{btitle}" placeholder="제목"></td>
                </tr>
                <tr>
                    <td>내용</td>
                    <td><textarea name="bcontent" th:field="*{bcontent}" placeholder="내용"></textarea></td>
                </tr>
                <tr>
                    <td>유형</td>
                    <td>
                        <select name="btype" th:field="*{btype}">
                            <option value="room">룸메 찾기</option>
                            <option value="mate">방 찾기</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>첨부파일</td>
                    <td><input type="file" name="file" accept="image/*"></td>
                </tr>
                <!-- 룸메 찾기용 필드 -->
                <tr th:if="${boardDTO.btype == 'room'}">
                    <td>월세</td>
                    <td><input type="number" name="monthlyRent" th:field="*{monthlyRent}" placeholder="월세 (원)"></td>
                </tr>
                <tr th:if="${boardDTO.btype == 'room'}">
                    <td>관리비</td>
                    <td><input type="number" name="managementFee" th:field="*{managementFee}" placeholder="관리비 (원)"></td>
                </tr>
                <tr th:if="${boardDTO.btype == 'room'}">
                    <td>집 유형</td>
                    <td><input type="text" name="houseType" th:field="*{houseType}" placeholder="집 유형 (아파트, 오피스텔 등)"></td>
                </tr>
                <!-- 방 찾기용 필드 -->
                <tr th:if="${boardDTO.btype == 'mate'}">
                    <td>희망 예산</td>
                    <td><input type="number" name="budget" th:field="*{budget}" placeholder="한달 희망 예산 (원)"></td>
                </tr>
                <tr th:if="${boardDTO.btype == 'mate'}">
                    <td>자신의 사진</td>
                    <td><input type="file" name="userPhotoFile" accept="image/*"></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <button type="submit">저장</button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</body>
</html>